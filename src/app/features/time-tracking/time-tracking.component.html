<div class="container grid">
  <div class="col-9">
    <p-tabView>
      <p-tabPanel header="Dự toán">
        <ng-container *ngTemplateOutlet="tableData"></ng-container>
      </p-tabPanel>

      <p-tabPanel header="Log work">
        <p>Chi tiết log công việc...</p>
      </p-tabPanel>

      <p-tabPanel header="Vấn đề">
        <p>Các vấn đề phát sinh trong dự án...</p>
      </p-tabPanel>

      <p-tabPanel header="Bug & Improvement">
        <p>Danh sách bug và cải tiến...</p>
      </p-tabPanel>
    </p-tabView>
  </div>

  <div class="col-3">
    <div [formGroup]="formGroup" class="p-fluid form-container">
      <div class="p-field">
        <label for="project">Dự án</label>
        <input formControlName="project" id="project" pInputText type="text" />
      </div>

      <div class="p-field">
        <label for="pic">PIC</label>
        <input formControlName="pic" id="pic" pInputText type="text" />
      </div>

      <div class="p-field">
        <label for="module">Module</label>
        <input formControlName="module" id="module" pInputText type="text" />
      </div>

      <div class="p-field">
        <label for="menu">Menu</label>
        <input formControlName="menu" id="menu" pInputText type="text" />
      </div>

      <div class="p-field">
        <label for="screen">Màn hình</label>
        <input formControlName="screen" id="screen" pInputText type="text" />
      </div>

      <div class="p-field">
        <label for="feature">Tính năng</label>
        <input formControlName="feature" id="feature" pInputText type="text" />
      </div>

      <div class="p-field">
        <label for="category">Phân loại</label>
        <p-dropdown
          [options]="[]"
          formControlName="category"
          id="category"
          optionLabel="label"
          optionValue="value"></p-dropdown>
      </div>

      <div class="p-field">
        <label for="workContent">Nội dung công việc</label>
        <input formControlName="workContent" id="workContent" pInputText type="text" />
      </div>

      <div class="p-field">
        <label for="startTime">Thời gian bắt đầu</label>
        <p-calendar
          [showTime]="true"
          formControlName="startTime" hourFormat="24"
          id="startTime"></p-calendar>
      </div>

      <div class="p-field">
        <label for="endTime">Thời gian hoàn thành</label>
        <p-calendar
          [showTime]="true"
          formControlName="endTime"
          hourFormat="24"
          id="endTime"></p-calendar>
      </div>

      <div class="p-field">
        <label for="duration">Thời lượng (giờ)</label>
        <p-inputNumber
          [min]="0"
          formControlName="duration"
          id="duration"></p-inputNumber>
      </div>

      <div class="p-field">
        <label for="isLunchBreak">Nghỉ trưa (phút)</label>
        <p-inputNumber
          [min]="0"
          formControlName="isLunchBreak"
          id="isLunchBreak"></p-inputNumber>
      </div>

      <div class="p-field">
        <label for="isSolveIssue">Giải quyết vấn đề</label>
        <input
          formControlName="isSolveIssue"
          id="isSolveIssue"
          pInputText type="text" />
      </div>

      <div class="p-field">
        <label for="encounteredIssue">Vấn đề gặp phải</label>
        <input
          formControlName="encounteredIssue"
          id="encounteredIssue"
          pInputText
          type="text" />
      </div>

      <div class="p-field">
        <label for="creationDate">Ngày tạo</label>
        <p-calendar
          formControlName="creationDate"
          id="creationDate"></p-calendar>
      </div>

      <div class="p-field">
        <button (click)="submitForm()" icon="pi pi-save" label="Lưu" pButton type="button"></button>
      </div>
    </div>
  </div>
</div>

<ng-template #tableData>
  <p-table [value]="workData" responsiveLayout="scroll">
    <ng-template pTemplate="header">
      <tr>
        <th *ngFor="let col of columns">{{ col }}</th>
      </tr>
    </ng-template>
    <ng-template let-rowData pTemplate="body">
      <tr>
        <td *ngFor="let col of columns; let index = index">{{ rowData[index] }}</td>
      </tr>
    </ng-template>
  </p-table>
  <div class="card flex justify-center">
    <p-paginator
      (onPageChange)="onPageChange($event)"
      [first]="requestDTO().page * requestDTO().size"
      [rowsPerPageOptions]="[10, 20, 30]"
      [rows]="requestDTO().size"
      [totalRecords]="120" />
  </div>
</ng-template>
